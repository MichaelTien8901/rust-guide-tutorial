<!-- Force Mermaid diagrams to have light background -->
<style>
  /* Mermaid container - MUST be light background */
  .mermaid,
  pre.mermaid,
  .language-mermaid,
  code.language-mermaid {
    background-color: #ffffff !important;
    border-radius: 8px !important;
    padding: 16px !important;
    margin: 16px 0 !important;
    display: block !important;
  }

  /* All text in Mermaid must be dark */
  .mermaid text,
  .mermaid tspan,
  .mermaid .nodeLabel,
  .mermaid .label,
  .mermaid .edgeLabel,
  .mermaid .cluster-label,
  .mermaid .messageText,
  .mermaid .loopText,
  .mermaid .noteText,
  .mermaid .labelText,
  .mermaid .actor {
    fill: #1a1a1a !important;
    color: #1a1a1a !important;
  }

  /* All lines and arrows must be dark */
  .mermaid path,
  .mermaid line,
  .mermaid .edgePath path,
  .mermaid .flowchart-link,
  .mermaid .messageLine0,
  .mermaid .messageLine1,
  .mermaid .relation,
  .mermaid .actor-line {
    stroke: #333333 !important;
  }

  .mermaid marker path,
  .mermaid .arrowheadPath {
    fill: #333333 !important;
    stroke: #333333 !important;
  }

  /* Node backgrounds - light */
  .mermaid .node rect,
  .mermaid .node circle,
  .mermaid .node ellipse,
  .mermaid .node polygon,
  .mermaid .node path {
    fill: #e8f4fd !important;
    stroke: #2171b5 !important;
  }

  /* Cluster backgrounds */
  .mermaid .cluster rect {
    fill: #f0f4f8 !important;
    stroke: #5a6c7d !important;
  }

  /* Actor boxes in sequence diagrams */
  .mermaid .actor-box,
  .mermaid rect.actor {
    fill: #e8f4fd !important;
    stroke: #2171b5 !important;
  }

  /* Notes */
  .mermaid .note {
    fill: #fff8dc !important;
    stroke: #d4a574 !important;
  }

  /* Mindmap nodes */
  .mermaid .mindmap-node rect,
  .mermaid .mindmap-node circle {
    fill: #e8f4fd !important;
    stroke: #2171b5 !important;
  }

  .mermaid .mindmap-edges path {
    stroke: #333333 !important;
    stroke-width: 2px !important;
  }
</style>
